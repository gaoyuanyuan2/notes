# Go语言从入门到实战

## 软件开发的新挑战

1.多核硬件架构
2.超大规模分布式计算集群
3. Web模式导致的前所未有的开发规模和更新速度


垃圾回收 指针

复合

云计算语言

区块链语言

## 编写 Go 第一个程序

应用程序入口

1.必须是main包: package main
2.必须是main方法: func main()
3.文件名不一定是main.go


获取命令行参数.
与其他主要编程语言的差异

main函数不支持传入参数

在程序中直接通过os.Args获取命令行参数

### 变量和常量

编写测试程序
1.源码文件以_test结尾: xxx_test.go
2.测试方法名以Test开头: func TestXXX(t *testing.T) {...}

### 变量赋值

与其他主要编程语言的差异

赋值可以进行自动类型推断

在一个赋值语句中可以对多个变量进行同时赋值

### 常量定义

与其他主要编程语言的差异

快速设置连续值


与其他主要编程语言的差异

1. Go语言不允许隐式类型转换
2.别名和原有类型也不能进行隐式类型转换


类型的预定义值
1. math.MaxInt64
2。math.MaxFloat64
3. math.MaxUint32

指针类型
与其他主要编程语言的差异
1.不支持指针运算
2. string 是值类型，其默认的初始化值为空字符串，而不是nil

Go语言没有前置的++,--

&^按位置零


## 数组vs.切片

1.容量是否可伸缩
2.是否可以进行比较

## 字符串

与其他主要编程语言的差异
1. string是数据类型，不是引用或指针类型
2. string 是只读的byte slice，len 函数可以它所包含的byte数
3. string 的byte数组可以存放任何数据

Unicode UTF8
1. Unicode是一种字符集(code point)
2. UTF8 是unicode的存储实现(转换为字节序列的规则) 

## 函数是一等公民
与其他主要编程语言的差异
1.可以有多个返回值
2.所有参数都是值传递: slice, map, channel 会有传引用的错觉
3.函数可以作为变量的值
4.函数可以作为参数和返回值



## Go接口最佳实践

倾向于使用小的接口定义，很多接口只包含一个方法

较大的接口定义，可以由多个小接口定义组合而成

只依赖于必要功能的最小接口

## Go的错误机制

与其他主要编程语言的差异

1.没有异常机制
2. error 类型实现了error 接口
3.可以通过errors.New来快速创建错误实例

## package

1.基本复用模块单元
以首字母大写来表明可被包外代码访问

2.代码的package可以和所在的目录不一致

3.同一目录里的Go代码的package要保持一致



## init方法

* 在main被执行前，所有依赖的package的init方法都会被执行
* 不同包的init函数按照包导入的依赖关系决定执行顺序
* 每个包可以有多个init函数
* 包的每个源文件也可以有多个init 函数，这点比较特殊

## Go未解决的依赖问题

1.同一环境下，不同项目使用同一包的不同版本
2.无法管理对包的特定版本的依赖，

### vendor路径

随着Go 1 .5 release版本的发布，vendor 目录被添加到除了GOPATH和GOROOT之外的依赖目录查找的解决方案。
在Go 1.6之前，你需要手动的设置环境变量

查找依赖包路径的解决方案如下:
1.当前包下的vendor目录
2.向上级目录查找，直到找到src下的vendor目录
3.在GOPATH下面查找依赖包
4.在GOROOT目录下查找

## Thead VS. Groutine

1.创建时默认的stack的大小
* JDK5以后Java Thread stack默认为1M
* Groutine 的Stack初始化大小为2K

2.和KSE (Kernel Space Entity)的对应关系
* Java Thread是1:1
* Groutine是M:N



